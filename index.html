<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Tilt Da Pizza</title>
	<style>
		body {
			background: url(beerbatteredonionrings.jpg);
		}
	</style>
        <script src="./headtrackr-master/headtrackr.js"></script>
</head>
<body>
	<img src="pizza.gif" id="pizza">
	<style>
	#pizza {
		margin: 10% auto;
		display: block;
	}
	</style>

        <canvas id="inputCanvas" width="320" height="240" style="display:none"></canvas>
        <video id="inputVideo" autoplay loop></video>
        <script type="text/javascript">
          var videoInput = document.getElementById('inputVideo');
          var canvasInput = document.getElementById('inputCanvas');
          var pizza = document.getElementById('pizza');

          var htracker = new headtrackr.Tracker({calcAngles: true});
          htracker.init(videoInput, canvasInput);
          htracker.start();
          var angle = 0;
          document.addEventListener('facetrackingEvent', function(evt) {
          	//angle = evt.angle;
          	angle += -10*(evt.angle-1.5)%360;
            //var angle = window.offset+(evt.angle*1.5);
            pizza.style.transform = 'rotate('+angle+'deg)'; 
          });
        </script>

</body>
</html>
